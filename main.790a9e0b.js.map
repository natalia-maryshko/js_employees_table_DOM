{"version":3,"sources":["scripts/main.js"],"names":["prevClick","thead","document","querySelector","tbody","getNumber","salary","slice","split","join","addEventListener","e","people","querySelectorAll","i","target","cellIndex","textContent","sort","a","b","children","localeCompare","append","reverse","rows","forEach","el","classList","remove","parentNode","toggle","form","createElement","add","body","office","label","elName","select","name","toLowerCase","dataset","qa","required","item","option","value","input","type","button","preventDefault","trim","age","position","length","pushNotification","data","FormData","newRow","dataInfo","Object","fromEntries","entries","info","Number","toLocaleString","reset","posTop","posRight","title","description","message","messageTitle","className","messageText","style","top","right","setTimeout","hidden","changeEl","closest","prevText","index","focus","text","parentElement","evnt","code","blur"],"mappings":"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","file":"main.790a9e0b.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead tr');\nconst tbody = document.querySelector('tbody');\n\nfunction getNumber(salary) {\n  return +salary.slice(1).split(',').join('');\n}\n\nlet prevClick;\n\nthead.addEventListener('click', e => {\n  const people = [...document.querySelectorAll('tbody tr')];\n  const i = e.target.cellIndex;\n\n  if (e.target.textContent === 'Salary') {\n    people.sort((a, b) =>\n      getNumber(a.children[i].textContent)\n      - getNumber(b.children[i].textContent));\n  } else {\n    people.sort((a, b) =>\n      a.children[i].textContent.localeCompare(b.children[i].textContent));\n  }\n\n  if (e.target.textContent === prevClick) {\n    tbody.append(...people.reverse());\n    prevClick = null;\n  } else {\n    tbody.append(...people);\n    prevClick = e.target.textContent;\n  }\n});\n\ntbody.addEventListener('click', e => {\n  [...tbody.rows].forEach(el => el.classList.remove('active'));\n\n  e.target.parentNode.classList.toggle('active');\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nconst office\n  = ['Tokyo', 'Singapore', 'London', 'New York', 'Edinburgh', 'San Francisco'];\n\n[...thead.children].forEach(el => {\n  const label = document.createElement('label');\n  const elName = el.textContent;\n\n  label.textContent = el.textContent;\n\n  if (elName === 'Office') {\n    const select = document.createElement('select');\n\n    select.name = elName.toLowerCase();\n    select.dataset.qa = elName.toLowerCase();\n    select.required = true;\n\n    office.forEach(item => {\n      const option = document.createElement('option');\n\n      option.value = item;\n      option.textContent = item;\n      select.append(option);\n      label.append(select);\n      form.append(label);\n    });\n  } else {\n    const input = document.createElement('input');\n\n    input.name = elName.toLowerCase();\n    input.dataset.qa = elName.toLowerCase();\n    input.required = true;\n\n    switch (elName) {\n      case 'Age':\n      case 'Salary':\n        input.type = 'number';\n        break;\n\n      default:\n        input.type = 'text';\n    }\n\n    label.append(input);\n    form.append(label);\n  }\n});\n\nconst button = document.createElement('button');\n\nbutton.textContent = 'Save to table';\nform.append(button);\n\nbutton.addEventListener('click', e => {\n  e.preventDefault();\n\n  if (!form.name.value.trim() || !form.age.value || !form.position.value.trim()\n    || !form.office.value || !form.salary.value) {\n    pushNotification(10, 10, 'Error',\n      'Please fill all fields.', 'error');\n\n    return;\n  }\n\n  if (form.name.value.length < 4 && form.name.value.length > 0) {\n    pushNotification(10, 10, 'Error',\n      'Employee\\'s name has less then 4 letters.', 'error');\n\n    return;\n  }\n\n  if (form.age.value < 18 || form.age.value > 90) {\n    pushNotification(10, 10, 'Error',\n      'Employee\\'s age is less than 18 or more than 90.', 'error');\n\n    return;\n  }\n\n  if (form.salary.value < 0) {\n    pushNotification(10, 10, 'Error',\n      'Employee\\'s salary is less than 0.', 'error');\n\n    return;\n  }\n\n  const data = new FormData(form);\n  const newRow = document.createElement('tr');\n  const dataInfo = Object.fromEntries(data.entries());\n\n  for (const info in dataInfo) {\n    const item = document.createElement('td');\n\n    if (info === 'salary') {\n      item.textContent = '$'\n      + Number(dataInfo[info]).toLocaleString('en-US');\n    } else {\n      item.textContent = dataInfo[info];\n    }\n\n    newRow.append(item);\n  }\n\n  tbody.append(newRow);\n  form.reset();\n\n  pushNotification(10, 10, 'Success',\n    'New employee is successfully added to the table.', 'success');\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const message = document.createElement('div');\n\n  document.body.append(message);\n\n  message.classList.add('notification', type);\n  message.dataset.qa = 'notification';\n\n  const messageTitle = document.createElement('h2');\n\n  messageTitle.className = 'title';\n  messageTitle.textContent = title;\n  message.append(messageTitle);\n\n  const messageText = document.createElement('p');\n\n  messageText.textContent = description;\n  message.append(messageText);\n\n  message.style.top = `${posTop}px`;\n  message.style.right = `${posRight}px`;\n\n  setTimeout(() => {\n    message.hidden = true;\n  }, 3000);\n};\n\ntbody.addEventListener('dblclick', e => {\n  const changeEl = e.target.closest('td');\n  let input = document.createElement('input');\n  const prevText = e.target.textContent;\n  const index = e.target.cellIndex;\n\n  if (index < 2) {\n    input.type = 'text';\n  }\n\n  if (index === 2) {\n    input = document.createElement('select');\n\n    office.forEach(item => {\n      const option = document.createElement('option');\n\n      option.value = item;\n      option.textContent = item;\n      input.append(option);\n    });\n  }\n\n  if (index > 2) {\n    input.type = 'number';\n  }\n\n  input.classList.add('cell-input');\n  changeEl.textContent = '';\n\n  changeEl.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    let text = input.value.trim();\n\n    if (!text) {\n      text = prevText;\n    }\n\n    if (index === 4 && input.value) {\n      if (input.value < 0) {\n        text = prevText;\n      } else {\n        text = '$' + Number(text).toLocaleString('en-US');\n      }\n    }\n\n    if (input.value.length < 4 && index === 0 && input.value) {\n      pushNotification(10, 10, 'Error',\n        'Employee\\'s name has less then 4 letters.', 'error');\n\n      text = prevText;\n    }\n\n    if ((input.value < 18 || input.value > 90) && index === 3 && input.value) {\n      pushNotification(10, 10, 'Error',\n        'Employee\\'s age is less than 18 or more than 90.', 'error');\n\n      text = prevText;\n    }\n\n    input.parentElement.textContent = text;\n    input.remove();\n  });\n\n  input.addEventListener('keydown', evnt => {\n    if (evnt.code === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}